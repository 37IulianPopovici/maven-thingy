/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java library project to get you started.
 * For more details take a look at the 'Building Java & JVM projects' chapter in the Gradle
 * User Manual available at https://docs.gradle.org/7.3.3/userguide/building_java_projects.html
 */

plugins {
    // Apply the java-library plugin for API and implementation separation.
    id 'java-library'
    id 'maven-publish'
    id 'eclipse-wtp'
    id 'war'
}

group = 'com.example.eu'  // Replace with your group ID
version = '1.0.0'     // Replace with your library version

repositories {
    // Use Maven Central for resolving dependencies.
    mavenCentral()
    google()
    mavenLocal()
    maven { url 'https://jitpack.io' }
}

war.archiveName = 'sfig-certificate-service.war'

eclipse.wtp.component.contextPath = 'sfig-certificate-service'

java {
    toolchain {
    languageVersion = JavaLanguageVersion.of(8)
    }
}

eclipse.wtp.facet {
    facet name:'jst.java', version: '1.7'
    facet name:'jst.web', version: '3.0'
    facet name:'jst.jsf',version:'2.2'
}

ext {
    springVersion = '5.3.27'
    slf4jVersion = '1.7.36'
    logbackVersion = '1.2.11'
    cxfVersion = '2.7.6'
    atomikosVersion = '5.0.9'
    jacksonVersion = '2.13.4'
}

dependencies {

    // Use JUnit Jupiter for testing.
    testImplementation 'org.junit.jupiter:junit-jupiter:5.7.2'

    // This dependency is exported to consumers, that is to say found on their compile classpath.
    api 'org.apache.commons:commons-math3:3.6.1'

    // This dependency is used internally, and not exposed to consumers on their own compile classpath.
    implementation 'com.google.guava:guava:30.1.1-jre'
//Jackson
    implementation "com.fasterxml.jackson.core:jackson-databind:2.13.4.2"
    implementation "com.fasterxml.jackson.core:jackson-core:$jacksonVersion"
    implementation "com.fasterxml.jackson.core:jackson-annotations:$jacksonVersion"

    testImplementation "com.atomikos:atomikos-util:$atomikosVersion"
    testImplementation "com.atomikos:transactions-api:$atomikosVersion"
    testImplementation "com.atomikos:transactions-hibernate2:$atomikosVersion"
    testImplementation "com.atomikos:transactions-hibernate3:$atomikosVersion"
    testImplementation "com.atomikos:transactions-jdbc:$atomikosVersion"
    testImplementation "com.atomikos:transactions-jms:$atomikosVersion"
    testImplementation "com.atomikos:transactions-jta:$atomikosVersion"
    testImplementation "com.atomikos:transactions:$atomikosVersion"
    implementation 'commons-collections:commons-collections:3.2.2'
    implementation 'commons-io:commons-io:2.11.0'
    implementation 'commons-lang:commons-lang:2.6'
    implementation 'javax.inject:javax.inject:1'
    implementation 'javax.servlet.jsp.jstl:javax.servlet.jsp.jstl-api:1.2.1'
    implementation 'joda-time:joda-time:2.1'
    implementation "org.slf4j:jcl-over-slf4j:$slf4jVersion"
    testImplementation "org.slf4j:slf4j-api:$slf4jVersion"

    testImplementation "org.springframework:spring-aop:$springVersion"
    implementation "org.springframework:spring-aspects:$springVersion"
    testImplementation "org.springframework:spring-beans:$springVersion"
    testImplementation "org.springframework:spring-context-support:$springVersion"
    testImplementation "org.springframework:spring-context:$springVersion"
    testImplementation "org.springframework:spring-core:$springVersion"
    testImplementation "org.springframework:spring-expression:$springVersion"
    implementation "org.springframework:spring-jdbc:$springVersion"
    implementation "org.springframework:spring-jms:$springVersion"
    implementation "org.springframework:spring-orm:$springVersion"
    implementation "org.springframework:spring-oxm:$springVersion"
    implementation "org.springframework:spring-tx:$springVersion"
    implementation "org.springframework:spring-web:$springVersion"
    implementation "org.springframework:spring-webmvc:$springVersion"

    // Dependencies for the 'testCompile' configuration (used for testing)
    testRuntimeClasspath group: 'junit', name: 'junit', version: '4.12'
     // Dependencies for the 'runtimeClasspath' configuration (used during runtime)
    runtimeClasspath group: 'com.google.guava', name: 'guava', version: '30.1.1-jre'
    runtimeClasspath group: 'org.slf4j', name: 'slf4j-api', version: '1.7.32'

    runtimeOnly "ch.qos.logback:logback-classic:$logbackVersion"
    runtimeOnly "ch.qos.logback:logback-core:$logbackVersion"
    runtimeOnly 'commons-codec:commons-codec:1.15'
    runtimeOnly 'aopalliance:aopalliance:1.0'
    testRuntimeClasspath 'org.aspectj:aspectjweaver:1.6.0'
    
    testImplementation 'junit:junit:4.13.2'
    testImplementation 'org.mockito:mockito-all:1.9.5'

    implementation group: 'org.slf4j', name: 'slf4j-api', version: '1.7.32'
    implementation group: 'com.google.guava', name: 'guava', version: '30.1.1-jre'
    implementation group: 'org.apache.commons', name: 'commons-lang3', version: '3.12.0'
    implementation group: 'javax.persistence', name: 'javax.persistence-api', version: '2.2'
    implementation group: 'com.fasterxml.jackson.core', name: 'jackson-core', version: '2.13.0'
    implementation group: 'org.springframework', name: 'spring-core', version: '5.3.10'
    implementation group: 'org.hibernate', name: 'hibernate-core', version: '5.6.2.Final'
    implementation group: 'com.google.code.gson', name: 'gson', version: '2.8.8'
    implementation group: 'org.jsoup', name: 'jsoup', version: '1.14.3'

    // Dependencies for the 'testImplementation' configuration
    testImplementation group: 'junit', name: 'junit', version: '4.12'
    testImplementation group: 'org.mockito', name: 'mockito-core', version: '3.11.2'
    testImplementation group: 'org.hamcrest', name: 'hamcrest-core', version: '2.2'
    testImplementation group: 'org.assertj', name: 'assertj-core', version: '3.20.2'
    // testImplementation group: 'org.springframework.boot', name: 'spring-boot-starter-test', version: '2.6.4'
    testImplementation group: 'org.testng', name: 'testng', version: '7.4.0'
    testImplementation group: 'org.powermock', name: 'powermock-api-mockito2', version: '2.0.9'
    testImplementation group: 'org.powermock', name: 'powermock-module-junit4', version: '2.0.9'
    testImplementation group: 'com.github.tomakehurst', name: 'wiremock', version: '2.27.2'

    // Dependencies for the 'compileOnly' configuration
    compileOnly group: 'org.springframework', name: 'spring-aop', version: '5.3.10'
    testImplementation group: 'com.fasterxml.jackson.dataformat', name: 'jackson-dataformat-xml', version: '2.13.0'
    testImplementation group: 'org.apache.logging.log4j', name: 'log4j-api', version: '2.14.1'
    testImplementation group: 'org.apache.commons', name: 'commons-math3', version: '3.6.1'
    testImplementation group: 'com.google.code.findbugs', name: 'jsr305', version: '3.0.2'
    testImplementation group: 'org.glassfish.jersey.media', name: 'jersey-media-json-jackson', version: '2.33'
    testImplementation group: 'org.springframework.security', name: 'spring-security-core', version: '5.5.2'
    testImplementation group: 'org.jetbrains.kotlin', name: 'kotlin-stdlib-jdk8', version: '1.6.10'
    testImplementation group: 'org.eclipse.jetty', name: 'jetty-server', version: '10.0.6'

    // Dependencies for the 'runtimeOnly' configuration
    runtimeOnly group: 'org.postgresql', name: 'postgresql', version: '42.2.24'
    runtimeOnly group: 'com.h2database', name: 'h2', version: '1.4.200'
    runtimeOnly group: 'org.apache.logging.log4j', name: 'log4j-core', version: '2.14.1'
    runtimeOnly group: 'org.apache.tomcat', name: 'tomcat-jdbc', version: '9.0.54'
    runtimeOnly group: 'org.apache.kafka', name: 'kafka-clients', version: '3.0.0'
    runtimeOnly group: 'javax.jms', name: 'javax.jms-api', version: '2.0.1'
    runtimeOnly group: 'com.fasterxml.jackson.dataformat', name: 'jackson-dataformat-cbor', version: '2.13.0'
    runtimeOnly group: 'org.apache.httpcomponents', name: 'httpclient', version: '4.5.13'

    // Dependencies for the 'testRuntimeOnly' configuration
    testRuntimeOnly group: 'org.postgresql', name: 'postgresql', version: '42.2.24'
    testImplementation group: 'org.springframework', name: 'spring-test', version: '5.3.10'
    testRuntimeOnly group: 'org.slf4j', name: 'slf4j-simple', version: '1.7.32'
    testRuntimeOnly group: 'com.h2database', name: 'h2', version: '1.4.200'
    testRuntimeOnly group: 'org.awaitility', name: 'awaitility', version: '4.0.2'
    testRuntimeOnly group: 'org.hamcrest', name: 'hamcrest-library', version: '2.2'
    testRuntimeOnly group: 'org.assertj', name: 'assertj-core', version: '3.20.2'
    testRuntimeOnly group: 'org.testng', name: 'testng', version: '7.4.0'

        // Dependencies for the 'implementation' configuration
    implementation group: 'org.slf4j', name: 'slf4j-api', version: '1.7.32'
    implementation group: 'com.google.guava', name: 'guava', version: '30.1.1-jre'
    testImplementation group: 'org.apache.commons', name: 'commons-lang3', version: '3.12.0'

    // Dependencies for the 'testImplementation' configuration
    testImplementation group: 'junit', name: 'junit', version: '4.12'
    testImplementation group: 'org.mockito', name: 'mockito-core', version: '3.11.2'
    testImplementation group: 'org.hamcrest', name: 'hamcrest-core', version: '2.2'

    // Dependencies for the 'compileOnly' configuration
    testImplementation group: 'org.springframework', name: 'spring-context', version: '5.3.10'
    compileOnly group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.13.0'

    // Dependencies for the 'runtimeOnly' configuration
    runtimeOnly group: 'org.postgresql', name: 'postgresql', version: '42.2.24'
    runtimeOnly group: 'com.h2database', name: 'h2', version: '1.4.200'

    // Dependencies for the 'testRuntimeOnly' configuration
    testRuntimeOnly group: 'org.postgresql', name: 'postgresql', version: '42.2.24'
    testRuntimeOnly group: 'org.springframework', name: 'spring-test', version: '5.3.10'

}


test {
    useJUnit()
}



publishing {
    publications {
        mavenJava(MavenPublication) {
            from components.java

            groupId = group
            artifactId = project.name
            version = project.version
        }
    }
    repositories {
        maven {
            url = uri("file:///path/to/local/repo")  // Use a local path for testing
        }
    }
}